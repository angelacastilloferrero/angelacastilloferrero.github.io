<!DOCTYPE html>
<html lang='en'>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.6">

    <title>ANGELA QUÉ HACES</title>

    <link rel="icon" href="assets/Iconfactory-Copland-5-A-rose-for-K..32.png">
    <link rel="stylesheet" type="text/css" href="style.css"> 

    <style>
        /* DEFINICIÓN DE FUENTE GLOBAL Y TAMAÑO */
        body {
            position: relative; 
            overflow: hidden; 
            background-size: cover;
            background-repeat: no-repeat;
            
            /* Ajustes de fuente solicitados */
            font-family: "Times New Roman", Times, serif;
            font-size: 12pt; 
            line-height: 1.5;
            
            /* Margen en ambos lados para imitar el padding: 15px en body */
            margin: 15px; 
            padding-bottom: 0; 
            height: 100vh; 
        }

        /* EL CONTENEDOR OCUPA EL 100% DEL ANCHO */
        .container {
            max-width: 100%;
            width: 100%;
            margin: 0px; /* Se eliminó el margen horizontal, ya que el body lo maneja */
            padding: 0px; /* Se eliminó el padding, ya que el body lo maneja */
        }

        /* ESTILOS DE ENLACES */
        a {
            color: #0000ff;
            letter-spacing: -0.3px;
            text-decoration: underline;
        }
        
        /* CABECERA Y CONTACTO (ALINEACIÓN DERECHA) */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            width: 100%;
            margin-bottom: 40px;
        }

        .main-info p {
            margin: 0;
            padding: 0;
        }
        
        /* Salto de línea solicitado entre párrafos */
        .main-info br {
            display: block;
            content: "";
            margin-bottom: 5px; /* Pequeño espacio para el salto de línea */
        }


        .contact-info {
            text-align: right;
            line-height: 1.5;
        }
        
        .contact-info p {
             color: #0000ff;
             font-size: 1em; /* 1em aquí es 12pt */
             margin: 0;
             white-space: nowrap; 
        }
        
        /* ESTILO PARA LA LÍNEA DIVISORIA */
        hr.project-divider {
            border: none;
            border-top: 1px solid #ccc; 
            margin: 40px 0;
        }
        
        /* === ESTILOS DEL BOTÓN (PORTFOLIO REQUEST) === */
        .button {
            align-items: center;
            -webkit-appearance: none;
            appearance: none;
            border: 0;
            border-radius: 5px; 
            color: #1a1a1a; 
            cursor: pointer;
            display: inline-flex;
            font: inherit; /* Hereda Times New Roman */
            justify-content: left;
            margin: 0;
            padding: 8px 15px;
            text-decoration: none;
            white-space: nowrap; 
            transition: background-color 0.2s; 
        }
        
        .button-primary {
            background-color: #8B4513; /* Color Tierra/Marrón */
            color: white; 
            font-weight: bold;
        }
        
        .button-primary:hover {
            background-color: #A0522D; 
        }
        
        /* === ESTILOS PARA LAS VENTANAS FLOTANTES === */
        .highlights-title {
            font-size: 1.5em; /* Ajustado ligeramente */
            margin-bottom: 20px;
        }
        
        .window {
            position: absolute; 
            min-width: 150px; 
            min-height: 100px;
            
            background-color: #f0f0f0; 
            border: 1px solid #333;
            box-shadow: 5px 5px 0px #888; 
            z-index: 100;
            
            resize: none; 
            overflow: visible; /* Debe ser visible para que el nuevo footer de la ventana quepa */
            cursor: pointer; 
            
            display: flex; /* Usamos flexbox para colocar el header y el body */
            flex-direction: column; 
        }
        
        /* Contenedor del cuerpo (contenido de la imagen) */
        .window-body {
            padding: 0; /* Quitamos el padding del body */
            flex-grow: 1; /* Ocupa todo el espacio entre el header y el footer */
            overflow: hidden; 
            cursor: move; 
        }

        .window-body img {
            display: block;
            width: 100%;
            height: 100%; 
            object-fit: cover; 
        }
        
        /* TITULO DE VENTANA - AHORA ES FOOTER */
        .window-footer {
            cursor: move; 
            background-color: #fff; /* Fondo blanco para el texto */
            color: #000;
            padding: 5px 10px;
            border-top: 1px solid #333;
            user-select: none;
            flex-shrink: 0; /* No se encoge */
            text-align: left;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        /* Ocultamos el header antiguo */
        .window-header {
            display: none;
        }
        
        /* Estilos del texto del footer */
        .filename-text {
            color: #8B4513; /* Marrón */
            font-weight: bold;
            margin-right: 5px;
        }
        
        .dimensions-text {
            color: #000; /* Negro */
            font-style: italic;
        }

        /* Asa para redimensionar */
        .resize-handle {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 15px;
            height: 15px;
            background: #333;
            cursor: nwse-resize; 
            z-index: 10;
        }

        .active-drag, .active-resize {
            z-index: 1000;
        }
    </style>

</head>

<body>
    <main class="container">

        <header class="header">
            <div class="main-info">
                <a href="https://www.instagram.com/angelaquehaces" target="_blank">Ángela Castillo Ferrero</a>
                <p>Jewelry / Fashion Accessories designer</p>
                <p>Based in Barcelona</p>
                <br> <button class="button button-primary" onclick="alert('Enlace de Portfolio: Aquí puedes añadir un enlace mailto: o una URL de contacto')">
                    Full Portfolio available upon request
                </button>
            </div>

            <div class="contact-info">
                <p>castillofereroangela(at)gmail(dot)com</p>
            </div>
        </header>
        
        <hr class="project-divider">
        
        <h2 class="highlights-title">Highlights Lately</h2>
        
        <div class="highlights-container">
            
            <div class="highlight-item window" id="item-1" style="top: 100px; left: 20px;">
                <div class="window-header"></div> <div class="window-body">
                    <img id="img-1"
                        src="https://d2w9rnfcy7mm78.cloudfront.net/40812628/original_172a35df3b3170e2a010826f4a9fe9b0.png?1762184347?bc=0" 
                        alt="Destacado 1: Twist Capsule">
                </div>
                <div class="window-footer">
                    <span class="filename-text">Twist Capsule I</span>
                    <span class="dimensions-text" id="dims-1"></span>
                </div>
                <div class="resize-handle"></div>
            </div>

            <div class="highlight-item window" id="item-2" style="top: 250px; left: 35%;">
                <div class="window-header"></div>
                <div class="window-body">
                    <img id="img-2"
                        src="https://d2w9rnfcy7mm78.cloudfront.net/40812625/original_85f18373dedff59799d870842540b485.png?1762184345?bc=0" 
                        alt="Destacado 2: Twist Capsule">
                </div>
                <div class="window-footer">
                    <span class="filename-text">Twist Capsule II</span>
                    <span class="dimensions-text" id="dims-2"></span>
                </div>
                <div class="resize-handle"></div>
            </div>

            <div class="highlight-item window" id="item-3" style="top: 400px; left: 65%;">
                <div class="window-header"></div>
                <div class="window-body">
                    <img id="img-3"
                        src="https://d2w9rnfcy7mm78.cloudfront.net/40812631/original_19f7e92dfe38cfa2b98cf28f4ba0f9c4.png?1762184353?bc=0" 
                        alt="Destacado 3: Twist Capsule">
                </div>
                <div class="window-footer">
                    <span class="filename-text">Twist Capsule III</span>
                    <span class="dimensions-text" id="dims-3"></span>
                </div>
                <div class="resize-handle"></div>
            </div>

            <div class="highlight-item window" id="item-4" style="top: 50px; left: 500px;">
                <div class="window-header"></div>
                <div class="window-body">
                    <img id="img-4"
                        src="https://d2w9rnfcy7mm78.cloudfront.net/41008340/original_f09bba8bf0d0c4a387ebd2a1037c6a09.png?1762812024?bc=0" 
                        alt="Placeholder 4">
                </div>
                <div class="window-footer">
                    <span class="filename-text">Project Placeholder IV</span>
                    <span class="dimensions-text" id="dims-4"></span>
                </div>
                <div class="resize-handle"></div>
            </div>

            <div class="highlight-item window" id="item-5" style="top: 550px; left: 100px;">
                <div class="window-header"></div>
                <div class="window-body">
                    <img id="img-5"
                        src="https://d2w9rnfcy7mm78.cloudfront.net/41008348/original_6bb10a690c5a8dc9bf8e60f533634292.png?1762812035?bc=0" 
                        alt="Placeholder 5">
                </div>
                <div class="window-footer">
                    <span class="filename-text">Project Placeholder V</span>
                    <span class="dimensions-text" id="dims-5"></span>
                </div>
                <div class="resize-handle"></div>
            </div>

        </div>
        </main>

    <script>
        const draggableElements = document.querySelectorAll('.window');
        
        let activeItem = null; 
        let isResizing = false;
        
        let currentX, currentY; 
        let initialX, initialY;
        let xOffset, yOffset; 
        
        let initialWidth, initialHeight; 
        let initialRatio; 
        let highestZIndex = 100;
        
        // Ajustada la altura del FOOTER/TÍTULO
        const FOOTER_HEIGHT = 35; // Altura aproximada del nuevo footer

        // Función para actualizar las dimensiones en el footer del texto
        function updateDimensionsText(windowElement) {
            const currentWidth = Math.round(windowElement.offsetWidth - (windowElement.style.paddingLeft ? parseFloat(windowElement.style.paddingLeft) : 0) - (windowElement.style.paddingRight ? parseFloat(windowElement.style.paddingRight) : 0));
            const currentHeight = Math.round(windowElement.offsetHeight - FOOTER_HEIGHT - (windowElement.style.paddingTop ? parseFloat(windowElement.style.paddingTop) : 0) - (windowElement.style.paddingBottom ? parseFloat(windowElement.style.paddingBottom) : 0));
            
            const dimensionsSpan = windowElement.querySelector('.dimensions-text');
            if (dimensionsSpan) {
                dimensionsSpan.textContent = `(${currentWidth}x${currentHeight})`;
            }
        }

        // Función para establecer el tamaño inicial y la proporción
        function initializeWindow(windowElement) {
            const img = windowElement.querySelector('img');
            
            if (img && img.complete) {
                setInitialDimensions(windowElement, img);
            } else if (img) {
                img.onload = () => setInitialDimensions(windowElement, img);
            }
        }

        function setInitialDimensions(windowElement, img) {
            const targetWidth = 300; 
            const ratio = img.naturalWidth / img.naturalHeight;
            const targetHeight = targetWidth / ratio;
            
            windowElement.style.width = targetWidth + 'px';
            // Ajustamos el alto sumando la altura del FOOTER
            windowElement.style.height = (targetHeight + FOOTER_HEIGHT) + 'px';

            windowElement.setAttribute('data-aspect-ratio', ratio);
            
            // Llama a la función para mostrar las dimensiones iniciales
            updateDimensionsText(windowElement);
        }

        // 1. Configuración de escuchadores de eventos
        draggableElements.forEach(item => {
            const resizeHandle = item.querySelector('.resize-handle');
            
            initializeWindow(item);
            
            item.addEventListener('mousedown', startInteraction);
            item.addEventListener('touchstart', startInteraction); 
            
            if (resizeHandle) {
                resizeHandle.addEventListener('mousedown', resizeStart);
                resizeHandle.addEventListener('touchstart', resizeStart);
            }
        });

        // Eventos globales en el documento
        document.addEventListener('mouseup', dragEnd);
        document.addEventListener('touchend', dragEnd); 
        document.addEventListener('mousemove', drag);
        document.addEventListener('touchmove', drag); 
        
        // Función para elevar la ventana clicada
        function elevateWindow(clickedWindow) {
            highestZIndex++;
            clickedWindow.style.zIndex = highestZIndex;
        }
        
        /* ==================== INICIO DE INTERACCIÓN (Arrastre) ==================== */

        function startInteraction(e) {
            // Ignorar el clic si se hace en el handle de redimensión, botón o enlaces
            if (e.target.classList.contains('resize-handle') || e.target.tagName === 'BUTTON' || e.target.tagName === 'A') {
                return;
            }
            
            e.preventDefault(); 
            isResizing = false;
            
            const isTouch = e.type.includes('touch');
            const eventClientX = isTouch ? e.touches[0].clientX : e.clientX;
            const eventClientY = isTouch ? e.touches[0].clientY : e.clientY;

            activeItem = this; 
            activeItem.classList.add('active-drag');
            
            elevateWindow(activeItem);
            
            const rect = activeItem.getBoundingClientRect();
            
            xOffset = eventClientX - rect.left;
            yOffset = eventClientY - rect.top;
            
            initialX = eventClientX;
            initialY = eventClientY;
        }
        
        /* ==================== INICIO DE REDIMENSIÓN ==================== */

        function resizeStart(e) {
            e.preventDefault();
            
            isResizing = true;
            const isTouch = e.type.includes('touch');
            
            activeItem = this.closest('.window');
            activeItem.classList.add('active-resize');
            elevateWindow(activeItem);

            initialX = isTouch ? e.touches[0].clientX : e.clientX;
            initialY = isTouch ? e.touches[0].clientY : e.clientY;

            initialWidth = activeItem.offsetWidth;
            initialHeight = activeItem.offsetHeight;

            initialRatio = parseFloat(activeItem.getAttribute('data-aspect-ratio')) || (initialWidth / initialHeight);
        }


        /* ==================== FUNCIÓN DE MOVIMIENTO (DRAG/RESIZE) ==================== */

        function drag(e) {
            if (!activeItem) return;
            e.preventDefault();

            const isTouch = e.type.includes('touch');
            const eventClientX = isTouch ? e.touches[0].clientX : e.clientX;
            const eventClientY = isTouch ? e.touches[0].clientY : e.clientY;
            
            if (isResizing) {
                const deltaX = eventClientX - initialX;
                const deltaY = eventClientY - initialY;
                
                let newWidth, newBodyHeight;
                
                // Determina la nueva dimensión usando la que más ha cambiado (delta)
                if (Math.abs(deltaX) > Math.abs(deltaY)) {
                    // Guiar por el ancho
                    newWidth = Math.max(initialWidth + deltaX, 150);
                    newBodyHeight = newWidth / initialRatio;
                } else {
                    // Guiar por el alto
                    let newHeight = Math.max(initialHeight + deltaY, 100);
                    newBodyHeight = newHeight - FOOTER_HEIGHT;
                    if (newBodyHeight > 0) {
                        newWidth = newBodyHeight * initialRatio;
                    } else {
                        newBodyHeight = 100 - FOOTER_HEIGHT;
                        newWidth = newBodyHeight * initialRatio;
                    }
                }
                
                let newHeight = newBodyHeight + FOOTER_HEIGHT;

                // Aplicar el nuevo tamaño, respetando los mínimos
                if (newWidth >= 150 && newHeight >= 100) {
                    activeItem.style.width = newWidth + 'px';
                    activeItem.style.height = newHeight + 'px';
                    // Actualizar el texto de dimensiones durante la redimensión
                    updateDimensionsText(activeItem);
                }

            } else {
                // Modo Arrastre
                currentX = eventClientX - xOffset;
                currentY = eventClientY - yOffset;
                
                activeItem.style.left = currentX + 'px';
                activeItem.style.top = currentY + 'px';
            }
        }


        /* ==================== FUNCIÓN DE FINALIZACIÓN ==================== */

        function dragEnd(e) {
            if (!activeItem) return;

            activeItem.classList.remove('active-drag', 'active-resize');
            // Asegurarse de que las dimensiones finales se muestren correctamente
            updateDimensionsText(activeItem);
            
            activeItem = null;
            isResizing = false;
        }

        // Llamada inicial para asegurar que todas las imágenes se inicialicen
        window.addEventListener('load', () => {
            draggableElements.forEach(item => initializeWindow(item));
        });
    </script>
    </body>
</html>
